# PhD Update 24/10/23

## Update

## Summary of current progress

### Proof search

Goal Scoring Model used in several approaches,
learnable model mapping a goal to a score for use in search

- Binary Provable/Unprovable (HTPS)
- Proof Length (Curriculum Learning)

No Goal Model:

- BestFS
  - LeanDojo Default, uses cumulative logprob from tactic model
- BFS
  - Breath first, needs no outside information 

Goal Model:

- HTPS
  - Uses the mean score over children 
  - Fixed expansion budget per node 
  - Finds best fringe under the mean score, with some exploration 
- UpDown
  - Uses 'max' over children to score a node, and product over siblings 
  - Can backtrack
  - Can sample from fringes directly by their score 
 
Progress:
- UpDown implemented and tested after 1 evaluation loop, no benefit to performance so far 
- HTPS implemented yet to be tested


### DPO
Fine-tuning tactic model based on responses from environment.
Given the natural ordering, can use DPO to fine-tune tactic generation 

### BAIT

Aim is as outlined in the first paper, but extend this to proof search, tactic models and other systems.

- Generative Models
    - Working with ByT5 from LeanDojo as a base here
- Multiprocessing
- Proof search tree representation
    - Subgoal separation, better tracking of proven goals, observed small improvement with BestFS
- End to end loop
- Visualisation
- Processing proof logs
- Environments



## Notes

- If harder goal proven, would be nice to automatically update easier (i.e. goal which has fewer hypotheses, somthing
  implied by proven goal)
- Proof search diffusion? Insert/delete, start from 'random proof' as noise, refine to better proof.
    - Error term prediction between subsequent steps, start from noise, follow this error prediction to refine
    - Start with root, noise corruption is leading edge, denoising is adding edge in
- LLM probably lower hanging fruit

## TODO

- Complete End-to-end training code
    - Finish DPO implementation
    - Run with BestFS and with UpDown initially

- Finish HTPS, BFS 